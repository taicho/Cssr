/* MIT License 2013 Azad Ratzki, See non-minified for full license. */ var Cssr; (function (n) { function o(t) { Object.defineProperty(n.Variables, t, { get: function () { var n = null; return r.forEach(function (i) { if (i[t]) { var r = i[t]; return n = r[0].getValue(), !1 } }), n }, set: function (n) { r.forEach(function (i) { if (i[t]) { var r = i[t]; r.forEach(function (t) { t.changeProperty(n) }); return } }) }, enumerable: !0, configurable: !0 }) } function s(n, i) { t[n] = i } function h(n) { delete t[n] } function c(n, t) { r.forEach(function (i) { if (i[n]) { var r = i[n]; r.forEach(function (n) { n.changeProperty(t) }) } }) } function l(n) { for (var h = n.length, c, l, e, p; h--;) { var o = n.item(h), i = o.textContent, w = i, s = i.match(/\/\*Cssr.*[\s\S]*\*\//)[0]; i = i.replace(s, ""), c = s.match(u), c.forEach(function (n) { var i, r, f; u.lastIndex = 0, i = u.exec(n), r = i[1], t[r] || (f = i[2], t[r] = f) }), f(), i = a(i), l = i, Object.keys(t).forEach(function (n) { var r = y(t[n]); i = i.replace(new RegExp("@" + n, "g"), r) }), o.parentNode.removeChild(o), e = document.createElement("style"), e.setAttribute("data-cssr", "true"), e.innerHTML = s + i, e.onload = function () { r.push(v(e.sheet, l, t)) }, p = document.getElementsByTagName("head")[0], p.appendChild(e) } } function a(n) { for (var t = i.exec(n), f = {}, o, c, l, s; t !== null;) { var e = t[0], u = t[1].trim(), r = t[2].trim(); f[u.replace(".", "")] = r, t = i.exec(n) } for (i.lastIndex = 0, t = i.exec(n) ; t != null;) { var e = t[0], u = t[1].trim(), r = t[2].trim(), h = u.match(/ @.*$/); h !== null && (o = h[0], u = u.replace(o, ""), c = o.replace("@", "").trim(), l = c.split("|"), l.forEach(function (n) { f[n] && (r = f[n] + "\n" + r.replace(/\t/g, ""), r = r.replace(/\s+/g, "").replace(/;/g, ";\n\t\t")) }), s = "\n\t" + u + "\n\t{\n\t\t" + r + "\n\t}\n", f[u.replace(".", "")] = r, i.lastIndex = n.indexOf(e) + s.length, n = n.replace(e, s)), t = i.exec(n) } return n } function v(n, t, r) { var s, h; i.lastIndex = 0; for (var u = {}, c = Object.keys(r), f = i.exec(t) ; f !== null;) s = f[0], h = f[1].trim(), c.forEach(function (t) { var f = new RegExp("(.*):[sS]*@" + t, "g"), c, l, i, r; if (s.indexOf("@" + t) > 0) for (c = n.cssRules.length; c--;) { if (l = n.cssRules.item(c), l.selectorText == h) { for (i = null, i = u[t] ? u[t] : [], r = f.exec(s) ; r != null;) i.push(new e(l, n, r[1].trim())), o(t), r = f.exec(s); u[t] = i } f.lastIndex = 0 } }), f = i.exec(t); return u } function y(n) { return n.replace(/'/g, "").replace(/\"/g, "") } function f(variableName) { var val = null, valVariableNames; if (variableName) { if (val = t[variableName], !val) throw "Can't find variable " + variableName; valVariableNames = p(val), valVariableNames.forEach(function (n) { val = val.replace("@" + n, f(n)) }); try { val = '"' + eval(val) + '"' } catch (err) { } if (val === null) throw "Can't find variable"; return t[variableName] = val, val } return Object.keys(t).forEach(function (n) { f(n) }), null } function p(n) { for (var i = new RegExp("@([a-zA-Z_$][0-9a-zA-Z_$]*)", "g"), t = i.exec(n), r = []; t !== null;) r.push(t[1]), t = i.exec(n); return r } function w() { l(document.querySelectorAll("style")) } var u = new RegExp("var ([A-Za-z0-9]+) = (.+);", "g"), i = new RegExp("([^{]+)s*{s*([^}]+)s*}", "g"), t = {}, r = [], e; n.Variables = {}, e = function () { function n(n, t, i) { this.Rule = n, this.Sheet = t, this.Property = i } return n.prototype.changeProperty = function (n) { this.Rule.style.setProperty(this.Property, n) }, n.prototype.getValue = function () { return this.Rule.style.getPropertyValue(this.Property) }, n }(), n.addVariable = s, n.removeVariable = h, n.changeVariable = c, n.apply = w, document.readyState === "complete" ? n.apply() : document.addEventListener("DOMContentLoaded", function () { n.apply() }) })(Cssr || (Cssr = {}));
//@ sourceMappingURL=Cssr.min.js.map